<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Familienplattform</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header>
    <h1 id="app-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Familienplattform</h1>
    <label for="languageSelect">ğŸŒ Sprache wÃ¤hlen:</label>
    <select id="languageSelect">
      <option value="de">Deutsch</option>
      <option value="en">English</option>
      <option value="fr">FranÃ§ais</option>
    </select>
  </header>

  <nav id="mainNav">
    <button onclick="showPage('profiles')">ğŸ” Profile</button>
    <button onclick="showPage('groups')">ğŸ‘ª Gruppen</button>
    <button onclick="showPage('treeView')">ğŸŒ³ Stammbaum</button>
    <button onclick="showPage('settings')">âš™ï¸ Einstellungen</button>
  </nav>

  <!-- === Gruppenbeitritt === -->
  <section id="groupLogin">
    <h2>Gruppe beitreten oder erstellen</h2>
    <form id="joinGroupForm">
      <label>Dein Name*: <input type="text" name="name" required /></label>
      <label>Gruppe wÃ¤hlen: <select name="groupId" id="groupSelect"></select></label>
      <button type="submit">Beitreten</button>
    </form>
    <p id="groupMessage"></p>
  </section>

  <!-- === Profile === -->
  <section id="profiles" style="display:none">
    <h2 id="profileHeadline">Alle Profile in deiner Gruppe</h2>
    <div id="profileTools">
      <label>Nach Name: <input type="text" id="filterName" /></label>
      <label>Nach Jahr: <input type="number" id="filterYear" /></label>
      <button onclick="applyFilters()">Filter anwenden</button>
      <button onclick="exportProfiles()">â¬‡ï¸ Export CSV</button>
    </div>
    <ul id="profileList"></ul>
  </section>

  <!-- === Profil-Details === -->
  <section id="profileDetail" style="display:none">
    <h2>ğŸ‘¤ Profil-Detail</h2>
    <div id="profileData"></div>
    <form id="editProfileForm">
      <input type="hidden" name="id" />
      <label>Name: <input type="text" name="name" required /></label>
      <label>Geburtsjahr: <input type="number" name="birthYear" required /></label>
      <button type="submit">Speichern</button>
      <button type="button" onclick="deleteProfile()">LÃ¶schen</button>
    </form>
  </section>

  <!-- === Stammbaum === -->
  <section id="treeView" style="display:none">
    <h2>ğŸŒ³ Stammbaum</h2>
    <div id="treeContainer"><!-- Hier entsteht der Baum --></div>
    <label id="tree-select-label">Person auswÃ¤hlen:
      <select id="treeSelect"></select>
    </label>
    <p id="relationInfo"></p>
  </section>

  <!-- === Einstellungen === -->
  <section id="settings" style="display:none">
    <h2>âš™ï¸ Einstellungen</h2>
    <label><input type="checkbox" id="publicGroup" /> Gruppe Ã¶ffentlich sichtbar</label><br>
    <label><input type="checkbox" id="onlyMembers" /> Nur Mitglieder sehen Inhalte</label>
  </section>

  <script src="js/app.js"></script>
  <!-- === API-TEST (manuell eingebaut) === -->
<section id="apiTest" style="margin-top: 20px;">
  <h3>ğŸ§ª Verbindung zum Backend testen</h3>
  <button onclick="testApi()">Jetzt testen</button>
  <p id="apiStatus">Noch nicht getestet</p>
</section>
</body>
</html>
<!-- === GRUPPENAUSWAHL & BEITRITT === -->
  <section id="groupLogin"><!-- Abschnitt fÃ¼r Gruppenbeitritt -->
    <h2 id="join-title">Gruppe beitreten oder erstellen</h2>
    <form id="joinGroupForm">
      <label id="nameLabel">Dein Name*: <input type="text" name="name" required></label>
      <label id="groupLabel">Gruppe wÃ¤hlen:
        <select name="groupId" id="groupSelect"></select>
      </label>
      <button type="submit" id="joinBtn">Beitreten</button>
    </form>
    <p id="groupMessage"></p>
  </section>

  <!-- === FILTER & EXPORT TOOLS === -->
  <section id="profileTools" style="display:none">
    <h3 id="toolsTitle">ğŸ” Filter & Export</h3>
    <label id="filterNameLabel">Nach Name filtern:
      <input type="text" id="filterName" />
    </label>
    <label id="filterYearLabel">Nach Jahr filtern:
      <input type="number" id="filterYear" />
    </label>
    <button onclick="applyFilters()" id="applyFilter">Filter anwenden</button>
    <button onclick="exportProfiles()" id="exportBtn">â¬‡ï¸ Export CSV</button>
  </section>

  <!-- === PROFILÃœBERSICHT === -->
  <section id="profileOverview" style="display:none">
    <h2 id="profileHeadline">Alle Profile in deiner Gruppe</h2>
    <input type="text" id="searchBar" placeholder="Suche nach Name, Ort...">
    <ul id="profileList"></ul>
  </section>
  <!-- === PROFIL-DETAIL & BEARBEITUNG === -->
  <section id="profileDetail" style="display:none">
    <h2 id="detailTitle">ğŸ‘¤ Profil-Detail</h2>
    <div id="profileData"></div>

    <h3 id="editTitle">Bearbeiten / LÃ¶schen</h3>
    <form id="editProfileForm">
      <input type="hidden" name="id" />
      <label id="editNameLabel">Name: <input type="text" name="name" required /></label>
      <label id="editYearLabel">Geburtsjahr: <input type="number" name="birthYear" required /></label>
      <button type="submit" id="saveBtn">Speichern</button>
      <button type="button" onclick="deleteProfile()">LÃ¶schen</button>
    </form>
  </section>

  <!-- === DRUCK & GEDCOM EXPORT === -->
  <section id="printExport" style="display:none">
    <h3 id="print-title">ğŸ–¨ï¸ Drucken & Export</h3>
    <button onclick="printProfile()" id="btn-print">Profil drucken</button>
    <button onclick="exportGedcom()" id="btn-gedcom">Export GEDCOM</button>
  </section>

  <!-- === STAMMBAUM & VERWANDTSCHAFT === -->
  <section id="treeView" style="display:none">
    <h2 id="tree-title">ğŸŒ³ Dynamischer Stammbaum</h2>
    <div id="treeContainer"><!-- Hier wird die verschachtelte Baumstruktur erzeugt --></div>
    <label id="tree-select-label">Person auswÃ¤hlen:
      <select id="treeSelect"></select>
    </label>
    <p id="relationInfo"></p>
  </section>
  <!-- === GRUPPEN-ADMIN DASHBOARD === -->
  <section id="groupDashboard" style="display:none">
    <h2 id="dashboard-title">ğŸ‘ª Gruppen-Dashboard</h2>
    <h3>Offene Mitgliedsanfragen</h3>
    <ul id="memberRequests"><!-- Liste der ausstehenden Beitritte --></ul>
    <h3>BestÃ¤tigte Mitglieder</h3>
    <ul id="memberList"><!-- Liste der bestÃ¤tigten Mitglieder --></ul>
  </section>

  <!-- === EINSTELLUNGEN & PRIVATSPHÃ„RE === -->
  <section id="settings" style="display:none">
    <h2 id="settings-title">âš™ï¸ Einstellungen</h2>
    <label><input type="checkbox" id="publicGroup" /> <span id="label-public">Gruppe Ã¶ffentlich sichtbar</span></label>
    <label><input type="checkbox" id="onlyMembers" /> <span id="label-only-members">Nur Mitglieder sehen BeitrÃ¤ge</span></label>
    <!-- Weitere Optionen kÃ¶nnen hier ergÃ¤nzt werden -->
  </section>

  <!-- === JAVASCRIPT-EINBINDUNG === -->
  <script src="js/app.js"></script>
</body>
</html>
